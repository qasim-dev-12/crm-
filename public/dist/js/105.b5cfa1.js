/*! For license information please see 105.b5cfa1.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{456:function(t,a,n){"use strict";n.r(a);var r=n(3),e=n.n(r),s=n(4);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(){var t,a,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",e=n.toStringTag||"@@toStringTag";function s(n,r,e,s){var o=r&&r.prototype instanceof l?r:l,u=Object.create(o.prototype);return c(u,"_invoke",function(n,r,e){var s,o,c,l=0,u=e||[],v=!1,f={p:0,n:0,v:t,a:_,f:_.bind(t,4),d:function(a,n){return s=a,o=0,c=t,f.n=n,i}};function _(n,r){for(o=n,c=r,a=0;!v&&l&&!e&&a<u.length;a++){var e,s=u[a],_=f.p,p=s[2];n>3?(e=p===r)&&(c=s[(o=s[4])?5:(o=3,3)],s[4]=s[5]=t):s[0]<=_&&((e=n<2&&_<s[1])?(o=0,f.v=r,f.n=s[1]):_<p&&(e=n<3||s[0]>r||r>p)&&(s[4]=n,s[5]=r,f.n=p,o=0))}if(e||n>1)return i;throw v=!0,r}return function(e,u,p){if(l>1)throw TypeError("Generator is already running");for(v&&1===u&&_(u,p),o=u,c=p;(a=o<2?t:c)||!v;){s||(o?o<3?(o>1&&(f.n=-1),_(o,c)):f.n=c:f.v=c);try{if(l=2,s){if(o||(e="next"),a=s[e]){if(!(a=a.call(s,c)))throw TypeError("iterator result is not an object");if(!a.done)return a;c=a.value,o<2&&(o=0)}else 1===o&&(a=s.return)&&a.call(s),o<2&&(c=TypeError("The iterator does not provide a '"+e+"' method"),o=1);s=t}else if((a=(v=f.n<0)?c:n.call(r,f))!==i)break}catch(a){s=t,o=1,c=a}finally{l=1}}return{value:a,done:v}}}(n,e,s),!0),u}var i={};function l(){}function u(){}function v(){}a=Object.getPrototypeOf;var f=[][r]?a(a([][r]())):(c(a={},r,(function(){return this})),a),_=v.prototype=l.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,e,"GeneratorFunction")),t.prototype=Object.create(_),t}return u.prototype=v,c(_,"constructor",v),c(v,"constructor",u),u.displayName="GeneratorFunction",c(v,e,"GeneratorFunction"),c(_),c(_,e,"Generator"),c(_,r,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),(o=function(){return{w:s,m:p}})()}function c(t,a,n,r){var e=Object.defineProperty;try{e({},"",{})}catch(t){e=0}(c=function(t,a,n,r){function s(a,n){c(t,a,(function(t){return this._invoke(a,n,t)}))}a?e?e(t,a,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[a]=n:(s("next",0),s("throw",1),s("return",2))})(t,a,n,r)}function l(t,a,n,r,e,s,i){try{var o=t[s](i),c=o.value}catch(t){return void n(t)}o.done?a(c):Promise.resolve(c).then(r,e)}function u(t){return function(){var a=this,n=arguments;return new Promise((function(r,e){var s=t.apply(a,n);function i(t){l(s,r,e,i,o,"next",t)}function o(t){l(s,r,e,i,o,"throw",t)}i(void 0)}))}}function v(t,a){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?v(Object(n),!0).forEach((function(a){_(t,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))}))}return t}function _(t,a,n){return(a=function(t){var a=function(t,a){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,a||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==i(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var p={middleware:["auth","check-permissions"],metaInfo:function(){return{title:this.$t("Account Transactions")}},data:function(){return{breadcrumbsCurrent:"Account Transactions",breadcrumbs:[{name:"Dashboard",url:"home"},{name:"Accounts",url:"accounts.index"},{name:"Transactions",url:""}],query:"",allData:"",transactions:[],perPage:10,totalCount:0}},computed:f({},Object(s.b)("operations",["items","loading","pagination"])),watch:{query:function(t){""===t?this.getTransactions():this.searchTransactions()}},created:function(){this.getAccount(),this.getTransactions()},methods:{updatePerPager:function(){this.pagination.current_page=1,""===this.query?this.getTransactions():this.searchTransactions()},getAccount:function(){var t=this;return u(o().m((function a(){var n,r;return o().w((function(a){for(;;)switch(a.n){case 0:return a.n=1,e.a.get(window.location.origin+"/api/accounts/"+t.$route.params.slug);case 1:n=a.v,r=n.data,t.allData=r.data;case 2:return a.a(2)}}),a)})))()},getTransactions:function(){var t=this;return u(o().m((function a(){var n,r,s;return o().w((function(a){for(;;)switch(a.n){case 0:return t.$store.state.operations.loading=!0,a.n=1,e.a.get(window.location.origin+"/api/accounts/transactions/"+t.$route.params.slug);case 1:n=a.v,r=n.data,s=0,t.transactions=r.data.map((function(t){return s=0==t.type?s-t.amount:s+t.amount,f(f({},t),{},{balance:s})})),t.totalCount=t.transactions.length,t.$store.state.operations.loading=!1;case 2:return a.a(2)}}),a)})))()},searchTransactions:function(){var t=this;return u(o().m((function a(){return o().w((function(a){for(;;)switch(a.n){case 0:return t.$store.state.operations.loading=!0,a.n=1,t.$store.dispatch("operations/searchData",{term:t.query,path:"/api/accounts/transactions/"+t.$route.params.slug+"/search",currentPage:t.pagination.current_page+"&perPage="+t.perPage});case 1:return a.a(2)}}),a)})))()},paginate:function(){var t=this;return u(o().m((function a(){return o().w((function(a){for(;;)switch(a.n){case 0:""===t.query?t.getTransactions():t.searchTransactions();case 1:return a.a(2)}}),a)})))()},resetPagination:function(){var t=this;return u(o().m((function a(){return o().w((function(a){for(;;)switch(a.n){case 0:t.pagination.current_page=1;case 1:return a.a(2)}}),a)})))()},reload:function(){var t=this;return u(o().m((function a(){return o().w((function(a){for(;;)switch(a.n){case 0:t.query="";case 1:return a.a(2)}}),a)})))()},printWindow:function(){window.print()}}},d=n(1),h=Object(d.a)(p,(function(){var t=this,a=t._self._c;return a("div",[a("breadcrumbs",{attrs:{items:t.breadcrumbs,current:t.breadcrumbsCurrent}}),t._v(" "),a("div",{staticClass:"row no-print mb-2"},[a("div",{staticClass:"w-100 text-right float-right"},[t.allData?a("div",{staticClass:"btn-group"},[a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("Export Table"),expression:"$t('Export Table')"}],staticClass:"btn btn-primary",attrs:{href:"/account-transactions/pdf/"+t.allData.slug}},[a("i",{staticClass:"fas fa-download"}),t._v(" "+t._s(t.$t("download"))+"\n        ")]),t._v(" "),a("a",{staticClass:"btn btn-secondary",attrs:{href:"#"},on:{click:t.printWindow}},[a("i",{staticClass:"fas fa-print"}),t._v(" "+t._s(t.$t("Print")))]),t._v(" "),t.$can("account-edit")?a("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"accounts.edit",params:{slug:t.allData.slug}}}},[a("i",{staticClass:"fas fa-edit"}),t._v(" "+t._s(t.$t("Edit"))+"\n        ")]):t._e(),t._v(" "),a("router-link",{staticClass:"btn btn-dark float-right",attrs:{to:{name:"accounts.index"}}},[a("i",{staticClass:"fas fa-long-arrow-alt-left"}),t._v("\n          "+t._s(t.$t("Back"))+"\n        ")])],1):t._e()])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"invoice p-3 mb-3 w-100"},[a("div",{staticClass:"row invoice-info"},[a("div",{staticClass:"col-sm-4 invoice-col"},[a("CompanyInfo")],1),t._v(" "),t.allData?a("div",{staticClass:"col-sm-6 offset-sm-2 invoice-col float-right text-md-right"},[t.allData.date?a("h5",[t._v("\n            "+t._s(t.$t("Account Details"))+"\n          ")]):t._e(),t._v(" "),a("strong",[t._v(t._s(t.$t("Bank Name"))+":")]),t._v("\n          "+t._s(t.allData.bankName)),a("br"),t._v(" "),t.allData.branchName?a("span",[a("strong",[t._v(t._s(t.$t("Branch Name"))+":")]),t._v("\n            "+t._s(t.allData.branchName)),a("br")]):t._e(),t._v(" "),t.allData.accountNumber?a("span",[a("strong",[t._v(t._s(t.$t("Account Number"))+":")]),t._v("\n            "+t._s(t.allData.accountNumber)),a("br")]):t._e(),t._v(" "),t.allData.accountNumber?a("span",[a("strong",[t._v(t._s(t.$t("Created At"))+":")]),t._v("\n            "+t._s(t._f("moment")(t.allData.date,"Do MMM, YYYY"))),a("br")]):t._e()]):t._e()]),t._v(" "),a("div",{staticClass:"row"},[t.pagination?a("div",{staticClass:"col-lg-3 col-6"},[a("div",{staticClass:"small-box bg-info"},[a("div",{staticClass:"inner"},[a("h4",[a("span",[t._v(t._s(t.totalCount))])]),t._v(" "),a("p",[t._v(t._s(t.$t("Total Transactions")))])]),t._v(" "),t._m(0)])]):t._e(),t._v(" "),a("div",{staticClass:"col-lg-3 col-6"},[a("div",{staticClass:"small-box bg-success"},[a("div",{staticClass:"inner"},[a("h4",[t._v(t._s(t._f("withCurrency")(t.allData.totalCredits)))]),t._v(" "),a("p",[t._v(t._s(t.$t("Credit Amount")))])]),t._v(" "),t._m(1)])]),t._v(" "),a("div",{staticClass:"col-lg-3 col-6"},[a("div",{staticClass:"small-box bg-secondary"},[a("div",{staticClass:"inner"},[a("h4",[t._v(t._s(t._f("withCurrency")(t.allData.totalDebits)))]),t._v(" "),a("p",[t._v(t._s(t.$t("Debit Amount")))])]),t._v(" "),t._m(2)])]),t._v(" "),a("div",{staticClass:"col-lg-3 col-6"},[a("div",{staticClass:"small-box bg-primary"},[a("div",{staticClass:"inner"},[a("h4",[t._v(t._s(t._f("withCurrency")(t.allData.availableBalance)))]),t._v(" "),a("p",[t._v(t._s(t.$t("Available Balance")))])]),t._v(" "),t._m(3)])])]),t._v(" "),a("div",{staticClass:"row"},[a("table-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]}),t._v(" "),a("div",{staticClass:"table-responsive table-custom"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v(t._s(t.$t("SL")))]),t._v(" "),a("th",[t._v(t._s(t.$t("Particular")))]),t._v(" "),a("th",[t._v(t._s(t.$t("Date")))]),t._v(" "),a("th",[t._v(t._s(t.$t("Credit")))]),t._v(" "),a("th",[t._v(t._s(t.$t("Debit")))]),t._v(" "),a("th",[t._v(t._s(t.$t("Balance")))])])]),t._v(" "),a("tbody",[t._l(t.transactions,(function(n,r){return a("tr",{directives:[{name:"show",rawName:"v-show",value:t.transactions.length,expression:"transactions.length"}],key:r},[a("td",[t._v(t._s(++r))]),t._v(" "),a("td",[t._v(t._s(n.reason))]),t._v(" "),a("td",[n.transactionDate?a("span",[t._v(t._s(t._f("moment")(n.transactionDate,"Do MMM, YYYY")))]):t._e()]),t._v(" "),a("td",[1===n.type?a("span",[t._v(t._s(t._f("withCurrency")(n.amount)))]):a("span",[t._v(t._s(t._f("withCurrency")(0)))])]),t._v(" "),a("td",[1===n.type?a("span",[t._v(t._s(t._f("withCurrency")(0)))]):a("span",[t._v(t._s(t._f("withCurrency")(n.amount)))])]),t._v(" "),a("td",[t._v(t._s(t._f("withCurrency")(n.balance)))])])})),t._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&!t.transactions.length,expression:"!loading && !transactions.length"}]},[a("td",{attrs:{colspan:"8"}},[a("EmptyTable")],1)])],2)])])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.allData.length,expression:"allData.length"}],staticClass:"no-print callout callout-danger mt-4 w-100"},[a("h5",[t._v(t._s(t.$t("No transaction is available yet!")))]),t._v(" "),a("p",[t._v(t._s(t.$t("You haven't made any transactions using this account. After doing the transaction you will see the list here.")))])])])])],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-coins"})])},function(){var t=this._self._c;return t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-sign-in-alt"})])},function(){var t=this._self._c;return t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-sign-out-alt"})])},function(){var t=this._self._c;return t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-piggy-bank"})])}],!1,null,null,null);a.default=h.exports}}]);