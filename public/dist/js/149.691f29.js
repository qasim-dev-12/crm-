/*! For license information please see 149.691f29.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{518:function(r,t,e){"use strict";e.r(t);var o=e(5),a=e(3),s=e.n(a);function n(){var r,t,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",a=e.toStringTag||"@@toStringTag";function s(e,o,a,s){var n=o&&o.prototype instanceof l?o:l,m=Object.create(n.prototype);return i(m,"_invoke",function(e,o,a){var s,n,i,l=0,m=a||[],u=!1,f={p:0,n:0,v:r,a:d,f:d.bind(r,4),d:function(t,e){return s=t,n=0,i=r,f.n=e,c}};function d(e,o){for(n=e,i=o,t=0;!u&&l&&!a&&t<m.length;t++){var a,s=m[t],d=f.p,v=s[2];e>3?(a=v===o)&&(i=s[(n=s[4])?5:(n=3,3)],s[4]=s[5]=r):s[0]<=d&&((a=e<2&&d<s[1])?(n=0,f.v=o,f.n=s[1]):d<v&&(a=e<3||s[0]>o||o>v)&&(s[4]=e,s[5]=o,f.n=v,n=0))}if(a||e>1)return c;throw u=!0,o}return function(a,m,v){if(l>1)throw TypeError("Generator is already running");for(u&&1===m&&d(m,v),n=m,i=v;(t=n<2?r:i)||!u;){s||(n?n<3?(n>1&&(f.n=-1),d(n,i)):f.n=i:f.v=i);try{if(l=2,s){if(n||(a="next"),t=s[a]){if(!(t=t.call(s,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,n<2&&(n=0)}else 1===n&&(t=s.return)&&t.call(s),n<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),n=1);s=r}else if((t=(u=f.n<0)?i:e.call(o,f))!==c)break}catch(t){s=r,n=1,i=t}finally{l=1}}return{value:t,done:u}}}(e,a,s),!0),m}var c={};function l(){}function m(){}function u(){}t=Object.getPrototypeOf;var f=[][o]?t(t([][o]())):(i(t={},o,(function(){return this})),t),d=u.prototype=l.prototype=Object.create(f);function v(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,u):(r.__proto__=u,i(r,a,"GeneratorFunction")),r.prototype=Object.create(d),r}return m.prototype=u,i(d,"constructor",u),i(u,"constructor",m),m.displayName="GeneratorFunction",i(u,a,"GeneratorFunction"),i(d),i(d,a,"Generator"),i(d,o,(function(){return this})),i(d,"toString",(function(){return"[object Generator]"})),(n=function(){return{w:s,m:v}})()}function i(r,t,e,o){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}(i=function(r,t,e,o){function s(t,e){i(r,t,(function(r){return this._invoke(t,e,r)}))}t?a?a(r,t,{value:e,enumerable:!o,configurable:!o,writable:!o}):r[t]=e:(s("next",0),s("throw",1),s("return",2))})(r,t,e,o)}function c(r,t,e,o,a,s,n){try{var i=r[s](n),c=i.value}catch(r){return void e(r)}i.done?t(c):Promise.resolve(c).then(o,a)}function l(r){return function(){var t=this,e=arguments;return new Promise((function(o,a){var s=r.apply(t,e);function n(r){c(s,o,a,n,i,"next",r)}function i(r){c(s,o,a,n,i,"throw",r)}n(void 0)}))}}var m={middleware:"auth",metaInfo:function(){return{title:this.$t("Update Profile")}},data:function(){return{breadcrumbsCurrent:"Update Profile",breadcrumbs:[{name:"Dashboard",url:"home"},{name:"Update",url:""}],form:new o.a({name:"",email:"",currentPassword:"",newPassword:"",confirmPassword:""}),loading:!0,user:"",isDemoMode:window.config.isDemoMode}},created:function(){this.getUser()},methods:{getUser:function(){var r=this;return l(n().m((function t(){var e,o;return n().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,s.a.get(window.location.origin+"/api/user");case 1:e=t.v,o=e.data,r.user=o.data,r.form.name=o.data.name,r.form.email=o.data.email;case 2:return t.a(2)}}),t)})))()},updateProfile:function(){var r=this;return l(n().m((function t(){return n().w((function(t){for(;;)switch(t.n){case 0:if(r.isDemoMode){t.n=2;break}return t.n=1,r.form.post(window.location.origin+"/api/update-profile").then((function(){toast.fire({type:"success",title:r.$t("Profile updated successfully")})})).catch((function(){toast.fire({type:"error",title:r.$t("Opps...something went wrong")})}));case 1:t.n=3;break;case 2:toast.fire({type:"warning",title:r.$t("You are not allowed to do this in demo version.")});case 3:return t.a(2)}}),t)})))()}}},u=e(1),f=Object(u.a)(m,(function(){var r=this,t=r._self._c;return t("div",[t("breadcrumbs",{attrs:{items:r.breadcrumbs,current:r.breadcrumbsCurrent}}),r._v(" "),t("div",{staticClass:"row"},[r.user?t("div",{staticClass:"col-md-12 col-lg-3"},[t("div",{staticClass:"card card-primary card-outline"},[t("div",{staticClass:"card-body box-profile"},[t("div",{staticClass:"text-center"},[t("img",{staticClass:"profile-user-img img-fluid img-circle",attrs:{src:r.user.photo_url,alt:r.$t("Attached Image")}})]),r._v(" "),t("h3",{staticClass:"profile-username text-center"},[r._v(r._s(r.user.name))]),r._v(" "),t("p",{staticClass:"text-muted text-center"},[r._v(r._s(r.user.roles[0]))])])])]):r._e(),r._v(" "),t("div",{staticClass:"col-md-12 col-lg-9"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("h3",{staticClass:"card-title"},[r._v(r._s(r.$t("Update your profile")))]),r._v(" "),t("router-link",{staticClass:"btn btn-dark float-right",attrs:{to:{name:"home"}}},[t("i",{staticClass:"fas fa-long-arrow-alt-left"}),r._v(" "+r._s(r.$t("Back"))+"\n          ")])],1),r._v(" "),t("div",{staticClass:"card-body"},[t("form",{staticClass:"form-horizontal",on:{submit:function(t){return t.preventDefault(),r.updateProfile.apply(null,arguments)},keydown:function(t){return r.form.onKeydown(t)}}},[t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"name"}},[r._v(r._s(r.$t("Name"))+"\n                "),t("span",{staticClass:"required"},[r._v("*")])]),r._v(" "),t("div",{staticClass:"col-sm-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":r.form.errors.has("name")},attrs:{type:"text",id:"name",placeholder:r.$t("Enter a name")},domProps:{value:r.form.name},on:{input:function(t){t.target.composing||r.$set(r.form,"name",t.target.value)}}}),r._v(" "),t("has-error",{attrs:{form:r.form,field:"name"}})],1)]),r._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"email"}},[r._v(r._s(r.$t("Email"))+"\n                "),t("span",{staticClass:"required"},[r._v("*")])]),r._v(" "),t("div",{staticClass:"col-sm-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":r.form.errors.has("email")},attrs:{type:"email",id:"email",placeholder:r.$t("Enter your email address")},domProps:{value:r.form.email},on:{input:function(t){t.target.composing||r.$set(r.form,"email",t.target.value)}}}),r._v(" "),t("has-error",{attrs:{form:r.form,field:"email"}})],1)]),r._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"currentPassword"}},[r._v(r._s(r.$t("Current Password")))]),r._v(" "),t("div",{staticClass:"col-sm-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.currentPassword,expression:"form.currentPassword"}],staticClass:"form-control",class:{"is-invalid":r.form.errors.has("currentPassword")},attrs:{type:"password",id:"currentPassword",placeholder:r.$t("Current Password")},domProps:{value:r.form.currentPassword},on:{input:function(t){t.target.composing||r.$set(r.form,"currentPassword",t.target.value)}}}),r._v(" "),t("has-error",{attrs:{form:r.form,field:"currentPassword"}})],1)]),r._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"newPassword"}},[r._v(r._s(r.$t("New Password")))]),r._v(" "),t("div",{staticClass:"col-sm-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.newPassword,expression:"form.newPassword"}],staticClass:"form-control",class:{"is-invalid":r.form.errors.has("newPassword")},attrs:{type:"password",id:"newPassword",placeholder:r.$t("Enter new password")},domProps:{value:r.form.newPassword},on:{input:function(t){t.target.composing||r.$set(r.form,"newPassword",t.target.value)}}}),r._v(" "),t("has-error",{attrs:{form:r.form,field:"newPassword"}})],1)]),r._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"confirmPassword"}},[r._v(r._s(r.$t("Confirm Password")))]),r._v(" "),t("div",{staticClass:"col-sm-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.confirmPassword,expression:"form.confirmPassword"}],staticClass:"form-control",class:{"is-invalid":r.form.errors.has("confirmPassword")},attrs:{type:"password",id:"confirmPassword",placeholder:r.$t("Enter confirm password")},domProps:{value:r.form.confirmPassword},on:{input:function(t){t.target.composing||r.$set(r.form,"confirmPassword",t.target.value)}}}),r._v(" "),t("has-error",{attrs:{form:r.form,field:"confirmPassword"}})],1)]),r._v(" "),t("div",{staticClass:"form-group row"},[t("div",{staticClass:"offset-sm-2 col-sm-10"},[t("v-button",{staticClass:"btn btn-primary",attrs:{loading:r.form.busy}},[t("i",{staticClass:"fas fa-edit"}),r._v(" "+r._s(r.$t("Save changes"))+"\n                ")])],1)])])])])])])],1)}),[],!1,null,"e1370500",null);t.default=f.exports}}]);